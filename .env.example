# ==========================================
# PA Study Hub — Environment Variables
# ==========================================
# Copy this file to .env and fill in real values.
# NEVER commit .env to version control.
# ==========================================

# ---- JWT ----
# Must be at least 256 bits (32+ chars) of random data for HS256
JWT_SECRET=replace-with-a-very-long-random-secret-key-at-least-32-chars
JWT_ACCESS_TOKEN_EXPIRY_MS=900000       # 15 minutes
JWT_REFRESH_TOKEN_EXPIRY_DAYS=7

# ---- PostgreSQL — Flashcard Service ----
FLASHCARD_DB_HOST=flashcard-db
FLASHCARD_DB_PORT=5432
FLASHCARD_DB_NAME=flashcard_db
FLASHCARD_DB_USERNAME=flashcard_user
FLASHCARD_DB_PASSWORD=replace-with-secure-password

# ---- PostgreSQL — Exam Service ----
EXAM_DB_HOST=exam-db
EXAM_DB_PORT=5432
EXAM_DB_NAME=exam_db
EXAM_DB_USERNAME=exam_user
EXAM_DB_PASSWORD=replace-with-secure-password

# ---- PostgreSQL — Study Progress Service ----
PROGRESS_DB_HOST=progress-db
PROGRESS_DB_PORT=5432
PROGRESS_DB_NAME=progress_db
PROGRESS_DB_USERNAME=progress_user
PROGRESS_DB_PASSWORD=replace-with-secure-password

# ---- PostgreSQL — User Service ----
USER_DB_HOST=user-db
USER_DB_PORT=5432
USER_DB_NAME=user_db
USER_DB_USERNAME=user_service_user
USER_DB_PASSWORD=replace-with-secure-password

# ---- PostgreSQL — AI Assistant Service ----
AI_DB_HOST=ai-db
AI_DB_PORT=5432
AI_DB_NAME=ai_assistant_db
AI_DB_USERNAME=ai_user
AI_DB_PASSWORD=replace-with-secure-password

# ---- Anthropic Claude API ----
# Get your key at: https://console.anthropic.com/
ANTHROPIC_API_KEY=your-anthropic-api-key-here
ANTHROPIC_MODEL=claude-sonnet-4-20250514
ANTHROPIC_MAX_TOKENS=4096

# ---- Service URLs (for inter-service communication) ----
FLASHCARD_SERVICE_URL=http://flashcard-service:8081
EXAM_SERVICE_URL=http://exam-service:8082
PROGRESS_SERVICE_URL=http://study-progress-service:8083
USER_SERVICE_URL=http://user-service:8084
AI_SERVICE_URL=http://ai-assistant-service:8085

# ---- API Gateway ----
GATEWAY_PORT=8080
CORS_ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000

# ---- Frontend ----
VITE_API_URL=http://localhost:8080/api/v1

# ---- AI Token Budget ----
# Max tokens per user per day across all AI features
AI_DAILY_TOKEN_BUDGET_PER_USER=50000
AI_RATE_LIMIT_REQUESTS_PER_MINUTE=10

# ---- Logging ----
LOG_LEVEL=INFO
